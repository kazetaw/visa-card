<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Walk</title>
    <link rel="stylesheet" href="styles.css">
</head>
<style>
    body {
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background-color: #f0f0f0;
}

.container {
    display: flex;
    flex-direction: row;
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.input-section {
    margin-right: 20px;
}

.output-section {
    position: relative;
}

canvas {
    border: 1px solid #ccc;
}

p {
    margin-top: 10px;
    font-size: 18px;
}

</style>
<body>
    <div class="container">
        <div class="input-section">
            <label for="commands">คำสั่ง Robot Walk</label>
            <input type="text" id="commands" value="LWWWWLW">
            <button onclick="executeCommands()">คำนวณ</button>
        </div>
        <div class="output-section">
            <canvas id="grid" width="500" height="500"></canvas>
            <p>ตำแหน่งปัจจุบัน: (<span id="current-x">0</span>, <span id="current-y">0</span>)</p>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        const canvas = document.getElementById('grid');
const ctx = canvas.getContext('2d');
const gridSize = 20;
let direction = 'up'; // initial direction is up
let x = 0, y = 0; // initial position
const initialX = canvas.width / 2;
const initialY = canvas.height / 2;

function drawGrid() {
    for (let i = 0; i < canvas.width; i += gridSize) {
        for (let j = 0; j < canvas.height; j += gridSize) {
            ctx.strokeStyle = '#ddd';
            ctx.strokeRect(i, j, gridSize, gridSize);
        }
    }
}

function drawPosition(x, y, color) {
    const screenX = initialX + x * gridSize;
    const screenY = initialY - y * gridSize;
    ctx.fillStyle = color;
    ctx.fillRect(screenX, screenY, gridSize, gridSize);
}

function executeCommands() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawGrid();

    const commands = document.getElementById('commands').value;
    x = 0;
    y = 0;
    direction = 'up';

    for (let command of commands) {
        if (command === 'L') {
            turnLeft();
        } else if (command === 'R') {
            turnRight();
        } else if (command === 'W') {
            moveForward();
        }
    }

    drawPosition(0, 0, 'red'); // starting point
    drawPosition(x, y, 'green'); // ending point

    document.getElementById('current-x').textContent = x;
    document.getElementById('current-y').textContent = y;
}

function turnLeft() {
    if (direction === 'up') direction = 'left';
    else if (direction === 'left') direction = 'down';
    else if (direction === 'down') direction = 'right';
    else if (direction === 'right') direction = 'up';
}

function turnRight() {
    if (direction === 'up') direction = 'right';
    else if (direction === 'right') direction = 'down';
    else if (direction === 'down') direction = 'left';
    else if (direction === 'left') direction = 'up';
}

function moveForward() {
    if (direction === 'up') y += 1;
    else if (direction === 'down') y -= 1;
    else if (direction === 'left') x -= 1;
    else if (direction === 'right') x += 1;
}

window.onload = () => {
    drawGrid();
    drawPosition(0, 0, 'red');
};

    </script>
</body>
</html>
